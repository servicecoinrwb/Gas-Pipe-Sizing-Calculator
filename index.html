<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GasPipePro - Pipe Sizing Calculator</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #111827; color: #f3f4f6; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        /* Custom scrollbar for tables */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-analytics.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        // --- FIREBASE CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyCHyeQwBOXvwuK65HY5vP9c9X-a4QzE8do",
            authDomain: "gas-pipe-sizing-calculator.firebaseapp.com",
            projectId: "gas-pipe-sizing-calculator",
            storageBucket: "gas-pipe-sizing-calculator.firebasestorage.app",
            messagingSenderId: "542989060350",
            appId: "1:542989060350:web:f4466571fe22a71ce07daf",
            measurementId: "G-17LCGK8H5X"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);
        const provider = new GoogleAuthProvider();

        // --- CONSTANTS & DATA ---

        // Standard Appliance Presets (BTU/hr)
        const APPLIANCE_PRESETS = [
            { name: "Furnace (Small)", btu: 40000 },
            { name: "Furnace (Large)", btu: 80000 },
            { name: "Water Heater (Tank)", btu: 40000 },
            { name: "Tankless Water Heater", btu: 199000 },
            { name: "Range / Oven", btu: 65000 },
            { name: "Clothes Dryer", btu: 35000 },
            { name: "Fireplace", btu: 40000 },
            { name: "Generator (10kW)", btu: 150000 },
            { name: "Generator (20kW)", btu: 280000 },
            { name: "Pool Heater", btu: 250000 },
        ];

        // Capacity Table for Schedule 40 Metallic Pipe
        // Based on NFPA 54 Table 6.2(b) Data points (Natural Gas, Inlet <2psi, 0.5" drop, SG 0.60)
        // Values are in Cubic Feet per Hour (CFH) of Natural Gas
        const PIPE_CAPACITY_NG_CFH = {
            10:  { "1/2": 172, "3/4": 360, "1": 678, "1-1/4": 1390, "1-1/2": 2090, "2": 4020 },
            20:  { "1/2": 118, "3/4": 247, "1": 466, "1-1/4": 957,  "1-1/2": 1430, "2": 2760 },
            30:  { "1/2": 95,  "3/4": 199, "1": 374, "1-1/4": 768,  "1-1/2": 1150, "2": 2220 },
            40:  { "1/2": 81,  "3/4": 170, "1": 320, "1-1/4": 657,  "1-1/2": 985,  "2": 1900 },
            50:  { "1/2": 72,  "3/4": 151, "1": 284, "1-1/4": 583,  "1-1/2": 873,  "2": 1680 },
            60:  { "1/2": 65,  "3/4": 137, "1": 257, "1-1/4": 528,  "1-1/2": 791,  "2": 1520 },
            70:  { "1/2": 60,  "3/4": 126, "1": 237, "1-1/4": 486,  "1-1/2": 728,  "2": 1400 },
            80:  { "1/2": 56,  "3/4": 117, "1": 220, "1-1/4": 452,  "1-1/2": 677,  "2": 1300 },
            90:  { "1/2": 52,  "3/4": 110, "1": 207, "1-1/4": 424,  "1-1/2": 635,  "2": 1220 },
            100: { "1/2": 50,  "3/4": 104, "1": 195, "1-1/4": 400,  "1-1/2": 600,  "2": 1160 },
            125: { "1/2": 44,  "3/4": 92,  "1": 173, "1-1/4": 355,  "1-1/2": 532,  "2": 1020 },
            150: { "1/2": 40,  "3/4": 83,  "1": 157, "1-1/4": 322,  "1-1/2": 482,  "2": 928 },
            175: { "1/2": 37,  "3/4": 77,  "1": 144, "1-1/4": 296,  "1-1/2": 443,  "2": 854 },
            200: { "1/2": 34,  "3/4": 71,  "1": 134, "1-1/4": 275,  "1-1/2": 412,  "2": 794 }
        };

        const AVAILABLE_LENGTHS = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 125, 150, 175, 200];
        const PIPE_SIZES = ["1/2", "3/4", "1", "1-1/4", "1-1/2", "2"];

        // --- COMPONENTS ---

        function App() {
            const [gasType, setGasType] = React.useState('NG'); // NG or LPG
            const [appliances, setAppliances] = React.useState([
                { id: 1, name: 'Furnace', btu: 80000 },
                { id: 2, name: 'Water Heater', btu: 40000 }
            ]);
            const [longestRun, setLongestRun] = React.useState(50);
            const [customBtu, setCustomBtu] = React.useState('');
            const [customName, setCustomName] = React.useState('');
            
            // Auth State
            const [user, setUser] = React.useState(null);
            const [isDataLoaded, setIsDataLoaded] = React.useState(false);
            const [isSaving, setIsSaving] = React.useState(false);

            // Auth Listener
            React.useEffect(() => {
                const unsubscribe = onAuthStateChanged(auth, (currentUser) => {
                    setUser(currentUser);
                    // If logging out, reset to default but don't clear until next login
                    if (!currentUser) {
                        setIsDataLoaded(false);
                    }
                });
                return () => unsubscribe();
            }, []);

            // Firestore Data Sync
            React.useEffect(() => {
                if (!user) return;

                const userDocRef = doc(db, 'artifacts', firebaseConfig.appId, 'users', user.uid, 'data', 'calculator');

                const unsubscribe = onSnapshot(userDocRef, (docSnap) => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        // Only update state if it's different to prevent loops, though React handles this well
                        // We set isDataLoaded true after first fetch
                        if (!isDataLoaded) {
                            if (data.appliances) setAppliances(data.appliances);
                            if (data.longestRun) setLongestRun(data.longestRun);
                            if (data.gasType) setGasType(data.gasType);
                            setIsDataLoaded(true);
                        }
                    } else {
                        // No data exists yet for this user, mark as loaded so we can start saving defaults
                        setIsDataLoaded(true);
                    }
                }, (error) => {
                    console.error("Error reading data:", error);
                });

                return () => unsubscribe();
            }, [user, isDataLoaded]);

            // Save Data Debounced
            React.useEffect(() => {
                if (!user || !isDataLoaded) return;

                const saveData = async () => {
                    setIsSaving(true);
                    try {
                        const userDocRef = doc(db, 'artifacts', firebaseConfig.appId, 'users', user.uid, 'data', 'calculator');
                        await setDoc(userDocRef, {
                            appliances,
                            longestRun,
                            gasType,
                            lastUpdated: new Date()
                        }, { merge: true });
                    } catch (e) {
                        console.error("Error saving data:", e);
                    }
                    setTimeout(() => setIsSaving(false), 500);
                };

                const timeoutId = setTimeout(saveData, 1000); // Debounce saves by 1 second
                return () => clearTimeout(timeoutId);
            }, [appliances, longestRun, gasType, user, isDataLoaded]);


            // Auth Handlers
            const signInWithGoogle = async () => {
                try {
                    await signInWithPopup(auth, provider);
                } catch (error) {
                    console.error("Error signing in", error);
                    alert("Error signing in: " + error.message);
                }
            };

            const handleSignOut = async () => {
                try {
                    await signOut(auth);
                    setAppliances([
                        { id: 1, name: 'Furnace', btu: 80000 },
                        { id: 2, name: 'Water Heater', btu: 40000 }
                    ]);
                    setLongestRun(50);
                    setGasType('NG');
                } catch (error) {
                    console.error("Error signing out", error);
                }
            };

            // Calculations
            const totalBTU = appliances.reduce((sum, app) => sum + app.btu, 0);
            
            // Gas Properties
            const btuPerCF_NG = 1000;
            const btuPerCF_LPG = 2500;
            const conversionFactorLPG = 0.632; 

            // derived load
            const currentBtuPerCF = gasType === 'NG' ? btuPerCF_NG : btuPerCF_LPG;
            const totalCFH = Math.ceil(totalBTU / currentBtuPerCF);

            // Add Appliance Handler
            const addAppliance = (name, btu) => {
                setAppliances([...appliances, { id: Date.now(), name, btu: parseInt(btu) }]);
            };

            const removeAppliance = (id) => {
                setAppliances(appliances.filter(a => a.id !== id));
            };

            // Sizing Logic
            const calculatePipeSize = () => {
                // 1. Determine table row (round up length)
                let lengthKey = AVAILABLE_LENGTHS.find(l => l >= longestRun);
                if (!lengthKey) lengthKey = 200; // Cap at 200 for this demo

                const row = PIPE_CAPACITY_NG_CFH[lengthKey];
                
                // 2. Find smallest pipe size where Capacity >= Load
                for (let size of PIPE_SIZES) {
                    let capacityCFH_NG = row[size];
                    
                    let actualCapacityBTU;
                    
                    if (gasType === 'NG') {
                        actualCapacityBTU = capacityCFH_NG * btuPerCF_NG;
                    } else {
                        // LPG Capacity Logic
                        let capacityCFH_LPG = capacityCFH_NG * conversionFactorLPG;
                        actualCapacityBTU = capacityCFH_LPG * btuPerCF_LPG;
                    }

                    if (actualCapacityBTU >= totalBTU) {
                        return { size, capacity: Math.round(actualCapacityBTU), lengthUsed: lengthKey };
                    }
                }
                return { size: "2\"+", capacity: 0, lengthUsed: lengthKey, error: "Load exceeds 2\" pipe capacity" };
            };

            const result = calculatePipeSize();

            return (
                <div className="min-h-screen bg-gray-900 text-gray-100 p-4 md:p-8 flex flex-col items-center">
                    <header className="mb-8 w-full max-w-5xl flex flex-col md:flex-row justify-between items-center gap-4">
                        <div className="flex flex-col md:flex-row items-center justify-center gap-3">
                             <svg className="w-10 h-10 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                            </svg>
                            <div className="text-center md:text-left">
                                <h1 className="text-3xl font-bold tracking-tight text-white">GasPipePro</h1>
                                <p className="text-xs text-gray-400">Schedule 40 Metallic Gas Piping (NG/LPG) • Longest Run Method</p>
                            </div>
                        </div>

                        {/* AUTH SECTION */}
                        <div className="flex items-center gap-4">
                            {user && (
                                <div className="text-xs text-gray-500 font-mono transition-opacity duration-300">
                                    {isSaving ? "Saving..." : "Synced"}
                                </div>
                            )}

                            {user ? (
                                <div className="flex items-center gap-3 bg-gray-800 rounded-full pl-2 pr-4 py-1.5 border border-gray-700">
                                    {user.photoURL ? (
                                        <img src={user.photoURL} alt="User" className="w-8 h-8 rounded-full border border-gray-600" />
                                    ) : (
                                        <div className="w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-xs font-bold">{user.displayName ? user.displayName[0] : 'U'}</div>
                                    )}
                                    <div className="flex flex-col">
                                        <span className="text-xs font-medium text-gray-200 leading-tight">{user.displayName}</span>
                                        <button onClick={handleSignOut} className="text-[10px] text-red-400 hover:text-red-300 text-left uppercase tracking-wide font-bold">Sign Out</button>
                                    </div>
                                </div>
                            ) : (
                                <button 
                                    onClick={signInWithGoogle}
                                    className="flex items-center gap-2 bg-white text-gray-900 px-4 py-2 rounded-lg font-medium text-sm hover:bg-gray-100 transition-colors"
                                >
                                    <svg className="w-4 h-4" viewBox="0 0 24 24"><path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" /><path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" /><path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z" /><path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" /></svg>
                                    Sign in with Google
                                </button>
                            )}
                        </div>
                    </header>

                    <main className="w-full max-w-5xl grid grid-cols-1 lg:grid-cols-12 gap-6">
                        
                        {/* LEFT COLUMN: Inputs & Appliances */}
                        <div className="lg:col-span-7 space-y-6">
                            
                            {/* Project Config */}
                            <section className="bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700">
                                <h2 className="text-lg font-semibold text-yellow-500 mb-4 flex items-center gap-2">
                                    <span className="bg-yellow-500/10 p-1 rounded">1</span> Configuration
                                </h2>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-400 mb-1">Gas Type</label>
                                        <div className="flex rounded-md shadow-sm" role="group">
                                            <button 
                                                onClick={() => setGasType('NG')}
                                                className={`px-4 py-2 text-sm font-medium rounded-l-lg border flex-1 ${gasType === 'NG' ? 'bg-yellow-600 text-white border-yellow-600' : 'bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600'}`}>
                                                Natural Gas
                                            </button>
                                            <button 
                                                onClick={() => setGasType('LPG')}
                                                className={`px-4 py-2 text-sm font-medium rounded-r-lg border flex-1 ${gasType === 'LPG' ? 'bg-yellow-600 text-white border-yellow-600' : 'bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600'}`}>
                                                Propane (LPG)
                                            </button>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-400 mb-1">Pipe Material</label>
                                        <select disabled className="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-300 opacity-75 cursor-not-allowed">
                                            <option>Schedule 40 Metallic (Standard)</option>
                                        </select>
                                    </div>
                                </div>
                                <div className="mt-4 text-xs text-gray-500 flex gap-4">
                                    <span>• Pressure Drop: 0.5" w.c.</span>
                                    <span>• Inlet: {gasType === 'NG' ? '< 2 psi' : '11" w.c.'}</span>
                                </div>
                            </section>

                            {/* Appliance Manager */}
                            <section className="bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-lg font-semibold text-yellow-500 flex items-center gap-2">
                                        <span className="bg-yellow-500/10 p-1 rounded">2</span> Appliances
                                    </h2>
                                    <span className="text-sm font-mono text-gray-400">Total Load: {totalBTU.toLocaleString()} BTU/hr</span>
                                </div>

                                {/* Preset Buttons */}
                                <div className="mb-4">
                                    <label className="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2">Quick Add</label>
                                    <div className="flex flex-wrap gap-2">
                                        {APPLIANCE_PRESETS.map((p, i) => (
                                            <button 
                                                key={i}
                                                onClick={() => addAppliance(p.name, p.btu)}
                                                className="px-3 py-1 bg-gray-700 hover:bg-gray-600 text-xs text-gray-300 rounded-full border border-gray-600 transition-colors"
                                            >
                                                + {p.name}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Custom Add */}
                                <div className="flex gap-2 mb-4 bg-gray-900/50 p-3 rounded-lg border border-gray-700/50">
                                    <input 
                                        type="text" 
                                        placeholder="Custom Name" 
                                        className="bg-gray-700 border-gray-600 rounded px-3 py-1 text-sm flex-1 text-white placeholder-gray-500"
                                        value={customName}
                                        onChange={(e) => setCustomName(e.target.value)}
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="BTU/hr" 
                                        className="bg-gray-700 border-gray-600 rounded px-3 py-1 text-sm w-24 text-white placeholder-gray-500"
                                        value={customBtu}
                                        onChange={(e) => setCustomBtu(e.target.value)}
                                    />
                                    <button 
                                        onClick={() => { if(customName && customBtu) { addAppliance(customName, customBtu); setCustomName(''); setCustomBtu(''); } }}
                                        className="bg-green-600 hover:bg-green-500 text-white px-3 py-1 rounded text-sm font-bold"
                                    >
                                        Add
                                    </button>
                                </div>

                                {/* List */}
                                <div className="space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar">
                                    {appliances.length === 0 && <p className="text-center text-gray-600 italic py-4">No appliances added.</p>}
                                    {appliances.map((app) => (
                                        <div key={app.id} className="flex justify-between items-center bg-gray-700/50 px-4 py-3 rounded-lg border border-gray-700">
                                            <div>
                                                <div className="font-medium text-gray-200">{app.name}</div>
                                                <div className="text-xs text-gray-400">{app.btu.toLocaleString()} BTU/hr</div>
                                            </div>
                                            <button 
                                                onClick={() => removeAppliance(app.id)}
                                                className="text-red-400 hover:text-red-300 hover:bg-red-400/10 p-1.5 rounded"
                                            >
                                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        </div>

                        {/* RIGHT COLUMN: Calculations */}
                        <div className="lg:col-span-5 space-y-6">
                            
                            {/* Length Input */}
                            <section className="bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700">
                                <h2 className="text-lg font-semibold text-yellow-500 mb-4 flex items-center gap-2">
                                    <span className="bg-yellow-500/10 p-1 rounded">3</span> Measurements
                                </h2>
                                
                                <div className="mb-6">
                                    <label className="block text-sm font-medium text-gray-300 mb-2">
                                        Longest Run (Feet)
                                        <span className="block text-xs font-normal text-gray-500 mt-0.5">Distance from meter to MOST REMOTE appliance.</span>
                                    </label>
                                    <div className="flex items-center gap-4">
                                        <input 
                                            type="range" 
                                            min="10" 
                                            max="200" 
                                            step="5"
                                            value={longestRun} 
                                            onChange={(e) => setLongestRun(Number(e.target.value))}
                                            className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"
                                        />
                                        <div className="bg-gray-900 border border-gray-600 text-yellow-500 font-mono text-xl font-bold px-4 py-2 rounded-lg min-w-[5rem] text-center">
                                            {longestRun}'
                                        </div>
                                    </div>
                                    <p className="text-xs text-gray-500 mt-2">
                                        *Code requires using the table row for the "Longest Run" even if the specific segment is shorter.
                                    </p>
                                </div>
                            </section>

                            {/* RESULTS CARD */}
                            <section className="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-1 shadow-2xl border border-yellow-500/30 relative overflow-hidden">
                                <div className="absolute top-0 right-0 p-4 opacity-10">
                                    <svg className="w-32 h-32 text-yellow-500" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                                </div>
                                
                                <div className="bg-gray-800/50 rounded-lg p-6 backdrop-blur-sm h-full flex flex-col justify-between">
                                    <div>
                                        <h3 className="text-gray-400 text-sm font-medium uppercase tracking-wider mb-1">Recommended Pipe Size</h3>
                                        <div className="flex items-end gap-3 mb-1">
                                            <span className="text-5xl font-bold text-white font-mono">{result.size}"</span>
                                            {result.error ? null : <span className="text-green-500 font-medium mb-2">✓ Sufficient</span>}
                                        </div>
                                        {result.error ? (
                                            <p className="text-red-400 text-sm font-medium mt-2">{result.error}</p>
                                        ) : (
                                            <div className="space-y-1 mt-4">
                                                <div className="flex justify-between text-sm">
                                                    <span className="text-gray-500">System Capacity:</span>
                                                    <span className="text-gray-300 font-mono">{result.capacity.toLocaleString()} BTU/hr</span>
                                                </div>
                                                <div className="flex justify-between text-sm">
                                                    <span className="text-gray-500">Your Load:</span>
                                                    <span className="text-yellow-500 font-mono font-bold">{totalBTU.toLocaleString()} BTU/hr</span>
                                                </div>
                                                <div className="flex justify-between text-sm">
                                                    <span className="text-gray-500">Table Length Used:</span>
                                                    <span className="text-gray-300 font-mono">{result.lengthUsed} ft</span>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                    
                                    <div className="mt-6 pt-6 border-t border-gray-700">
                                        <div className="bg-yellow-500/10 border border-yellow-500/20 rounded p-3">
                                            <p className="text-yellow-200 text-xs leading-relaxed">
                                                <strong>⚠️ Generator Warning:</strong> Large generators often require high inlet pressure (e.g., 7-11" w.c.) under full load. A standard 0.5" drop might be too much if your starting pressure is low. Check the manufacturer's spec sheet.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                        </div>
                    </main>

                    {/* How It Works Section */}
                    <section className="max-w-5xl w-full mt-12 mb-12 border-t border-gray-800 pt-8">
                        <h3 className="text-xl font-bold text-white mb-6">How the Longest Run Method Works</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 text-sm text-gray-400">
                            <div>
                                <h4 className="text-white font-semibold mb-2">1. The "Longest Run"</h4>
                                <p>Measure the piping distance from the gas meter to the most remote appliance. This is your "System Length". <strong className="text-gray-300">You use this one length for sizing EVERY pipe section in the house.</strong></p>
                            </div>
                            <div>
                                <h4 className="text-white font-semibold mb-2">2. The Load</h4>
                                <p>Sum the BTU ratings of all appliances that are fed by the pipe section you are sizing. For the main trunk line coming off the meter, this is everything. for a branch to a dryer, it's just the dryer.</p>
                            </div>
                            <div>
                                <h4 className="text-white font-semibold mb-2">3. The Selection</h4>
                                <p>Look at the table row for your Longest Run (e.g., 60 ft). Move across that row until you find a capacity number higher than your Load. That column header is your required pipe size.</p>
                            </div>
                        </div>
                    </section>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
